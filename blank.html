<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Rock Paper Scissors</title>
    </head>

    <body>
        <script>
            function computerPlay() {
                let computerArray = ['ROCK' , 'PAPER', 'SCISSORS'];
                return computerArray[Math.floor(Math.random() * computerArray.length)];
            }

            function playRound(playerSelction,computerSelection) {
               
               switch (true) {
                   case playerSelction == 'ROCK' && computerSelection == 'SCISSORS':
                        return ('You win! '+ playerSelction + ' beats ' + computerSelection);
                        break;
                   case playerSelction =='PAPER' && computerSelection == 'ROCK':
                         return ('you win! ' + playerSelction + ' beats ' + computerSelection);
                         break;
                    case playerSelction == 'SCISSORS' && computerSelection == 'PAPER':
                         return ('you win! ' + playerSelction + ' beats ' + computerSelection);
                         break; 
                    case playerSelction == computerSelection:
                        return ('TIE')
                        break;
                    default:
                        return ('You lose! ' + computerSelection + ' beats ' + playerSelction);
               }
            }

               function game() {
                   let userTally = 0;
                   let compTally = 0;
                   let result;
                   for(let i = 0; i < 5; i++){
                    let playerChoice = prompt("Choose Rock, Paper, or Scissors").toUpperCase();
                    let computerChoice = computerPlay();
                        result = playRound(playerChoice, computerChoice);
                       if (result.search('win') >= 0){
                       userTally ++;
                        }
                       else if (result.search('TIE') >= 0){
                        compTally ++;
                        userTally++;
                       }
                       else{
                        compTally++;
                       }
                   }
                  return gameWinner(userTally,compTally);
               }

               function gameWinner(player1,player2) {
                return (player1 > player2) ? 'You WON!! Your score: ' + player1 +  ' Computer score: '+ player2  : 
                  (player1 == player2) ? 'TIE!! Your score: ' + player1 + ' Computer score: ' + player2 : 
                  'You Lose!! Your score: ' + player1 + ' Computer score: ' + player2;
               }            
            
           


            console.log(game());
            


        </script>
    </body>
</html>